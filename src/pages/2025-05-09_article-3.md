---
title: Article 3
publish_date: 2025-05-09
is_published: true
slug: article-3
description:
---
Plan for this article
- [ ] Sort pages in newest first order
- [ ] Add next / previous links to page template
- [ ] add tags to articles, display them on homepage links
	- [ ] Bonus points later, make tag pages
- [ ] Replace obsidian links with markdown links before building ??
- [ ] RSS feed?

___

Welcome back to my series about building this very website!

Early readers, if there are indeed early readers, may have noticed that my homepage currently displays my articles in chronological order. While this is fine when I have two articles, it is less desirable with more articles. 

## Sorting my articles

So the first order of business for this time, is to reverse the order that articles are displayed in. I'm going to lean on my markdown metadata from last time, and use the `publish_date` value to order articles in reverse chronological order.

Which is easy enough! First I loop through all of the markdown files, and extract their metadata and content. The code I had from last time was mostly left intact, but I'll do the build operation later. 
```python
# A list of pages to save for the index page
pages = []

for f in glob.iglob(f"{source_dir}/**/*.md"):
    # Open markdown file
    with open(f, 'r') as file:
        # extract frontmatter and raw markdown
        metadata, raw = frontmatter.parse(file.read())
        # convert content to html
        content = commonmark.commonmark(raw)

    # if the page is not published, don't include it in the build
    if not metadata['is_published']:
        continue

    # Save data in class
    page_data = PageData(f, metadata, content)
    # Append to pages list
    pages.append(page_data)
```

I also created a small class to hold the data, along with the file path.
```python
class PageData():
    """A data class to hold page data"""

    def __init__(self, filepath, metadata, content):
        self.filepath = filepath
        self.metadata = metadata
        self.content = content
```

Then the sorting magic. The built in sort is usually more than sufficient, especially in cases like this. I provide a lambda function to tell the sort to sort by the `PageData`'s date, and also to reverse it. 
```python
# Sort the pages by `publish_date`
pages.sort(key=lambda p: p.metadata['publish_date'], reverse=True)
```

With that done, the rest of the build goes mostly the same, except I loop over this sorted array rather than the files directly. If you want to know exactly what changes, you're more than welcome to look at the repo on Github and inspect the diff!

## Direct links to other articles
Now that I have the articles in the right order, I want to add links at the top & bottom that link to the next article, so people can go to the next thing without having to go back to the home page.

First, I'll need to add a spot for links in the template, like so.

```html
<section class="container">
	<h1>{{ title }}</h1>
+	<section>
+		<a href="{{ previous_href }}">← {{ previous_title }}</a>
+		<span style="margin: 0 10px;"> | </span>
+		<a href="{{ next_href }}">{{ next_title }} →</a>
+	</section>
	<section>
		<em>Published: {{ publish_date }}</em>
	</section>
+	<hr>
	{{ content }}
</section>
```

I've added a few new variables here, including the link urls and titles for the previous and next articles. I also added a `<hr>` just before the article proper starts because I think that looks good.  

With the template sorted, I need to make a way to specify the next / previous articles in the page data



